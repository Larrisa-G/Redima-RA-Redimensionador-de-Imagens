from PIL import Image

def escalar_imagem(imagem, escala):
    largura, altura = imagem.size 
    nova_largura = int(largura * escala)
    nova_altura = int(altura * escala)
    nova_imagem = Image.new("RGB", (nova_largura, nova_altura))

    def escalar_quadrante(x, y, w, h):
        if w <= 1 or h <= 1:
            cor = imagem.getpixel((x, y))
            nova_imagem.putpixel((int(x * escala), int(y * escala)), cor)
        else:
            meio_x = x + w // 2
            meio_y = y + h // 2
            escalar_quadrante(x, y, meio_x - x, meio_y - y)
            escalar_quadrante(meio_x, y, x + w - meio_x, meio_y - y)
            escalar_quadrante(x, meio_y, meio_x - x, y + h - meio_y)
            escalar_quadrante(meio_x, meio_y, x + w - meio_x, y + h - meio_y)

    escalar_quadrante(0, 0, largura, altura)
    return nova_imagem

# Exemplo de uso:
imagem_original = Image.open(".\pepinof.png")
nova_imagem = escalar_imagem(imagem_original, 2.0)  # Escala para metade do tamanho
nova_imagem.show() #mostra imagem